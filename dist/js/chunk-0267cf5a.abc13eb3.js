(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0267cf5a"],{"159b":function(t,a,o){var i=o("da84"),n=o("fdbc"),c=o("17c2"),e=o("9112");for(var r in n){var s=i[r],l=s&&s.prototype;if(l&&l.forEach!==c)try{e(l,"forEach",c)}catch(u){l.forEach=c}}},"17c2":function(t,a,o){"use strict";var i=o("b727").forEach,n=o("a640"),c=o("ae40"),e=n("forEach"),r=c("forEach");t.exports=e&&r?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,a,o){"use strict";var i=o("23e7"),n=o("17c2");i({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},8418:function(t,a,o){"use strict";var i=o("c04e"),n=o("9bf2"),c=o("5c6c");t.exports=function(t,a,o){var e=i(a);e in t?n.f(t,e,c(0,o)):t[e]=o}},"99af":function(t,a,o){"use strict";var i=o("23e7"),n=o("d039"),c=o("e8b5"),e=o("861d"),r=o("7b0b"),s=o("50c4"),l=o("8418"),u=o("65f0"),d=o("1dde"),f=o("b622"),h=o("2d00"),p=f("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",L=h>=51||!n((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),m=d("concat"),b=function(t){if(!e(t))return!1;var a=t[p];return void 0!==a?!!a:c(t)},T=!L||!m;i({target:"Array",proto:!0,forced:T},{concat:function(t){var a,o,i,n,c,e=r(this),d=u(e,0),f=0;for(a=-1,i=arguments.length;a<i;a++)if(c=-1===a?e:arguments[a],b(c)){if(n=s(c.length),f+n>g)throw TypeError(v);for(o=0;o<n;o++,f++)o in c&&l(d,f,c[o])}else{if(f>=g)throw TypeError(v);l(d,f++,c)}return d.length=f,d}})},d884:function(t,a,o){"use strict";var i=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("a",{class:{"`show`":t.show},attrs:{href:"#",id:"back-to-top",title:"Back to top"},on:{click:function(a){return a.preventDefault(),t.goToTop(a)}}},[o("i",{staticClass:"fa fa-angle-up"})])},n=[],c=o("1157"),e=o.n(c),r={data:function(){return{show:!1}},mounted:function(){window.addEventListener("scroll",this.goToTop)},methods:{goToTop:function(){if(e()("#back-to-top").length){var t=100,a=function(){var a=e()(window).scrollTop();a>t?e()("#back-to-top").addClass("show"):e()("#back-to-top").removeClass("show")};a(),e()(window).on("scroll",(function(){a()})),e()("#back-to-top").on("click",(function(){e()("html,body").animate({scrollTop:0},700)}))}}}},s=r,l=o("2877"),u=Object(l["a"])(s,i,n,!1,null,null,null);a["a"]=u.exports},e6dc:function(t,a,o){"use strict";o.r(a);var i=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"products page"},[o("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),o("div",{staticClass:"container"},[o("h1",[t._v("產品列表")]),o("ul",{staticClass:"row prod-list"},t._l(t.prods,(function(a){return o("li",{key:a.id,staticClass:"col-sm-3"},[o("router-link",{attrs:{to:"/product/"+a.id}},[o("div",{staticClass:"prod-image"},[o("img",{attrs:{src:a.imageUrl,alt:a.title}})]),o("div",{staticClass:"prod-title"},[t._v(t._s(a.title))]),o("div",{staticClass:"prod-origin-price"},[t._v(" 原價 $ "+t._s(t._f("thousands")(a.origin_price))+" ")]),o("div",{staticClass:"prod-price"},[o("b",[t._v("特價 $ "+t._s(t._f("thousands")(a.price)))])])]),o("a",{staticClass:"add-to-cart",attrs:{href:"#"},on:{click:function(o){return o.preventDefault(),t.addToCart(a.id)}}},[o("i",{staticClass:"fa fa-cart-plus"})])],1)})),0)]),o("gototop",{tag:"div"},[o("cartNum")],1)],1)},n=[],c=(o("99af"),o("4160"),o("159b"),o("1157")),e=o.n(c),r=o("1052"),s=o.n(r),l=o("d884"),u=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("span",{staticClass:"cart-num"},[t._v(" "+t._s(t.cartNum)+" ")])},d=[],f={data:function(){return{prods:[],isLoading:!1,tempData:{},status:{loadingItem:"",loadingNum:""},carts:[],cartTotal:0,uuid:"bba8c8a3-a5f2-4a81-91ef-9273532ebb26",apiPath:"https://course-ec-api.hexschool.io",cartNum:0}},methods:{getCart:function(){var t=this;this.isLoading=!0;var a="".concat(this.apiPath,"/api/").concat(this.uuid,"/ec/shopping");s.a.get(a).then((function(a){t.isLoading=!1,console.log(a),t.carts=a.data.data,t.cartTotal=0,t.cartNum=a.data.data.length,t.updateCartTotal()})).catch((function(t){console.log(t)}))}},created:function(){this.getCart()}},h=f,p=o("2877"),g=Object(p["a"])(h,u,d,!1,null,null,null),v=g.exports,L={components:{gototop:l["a"],cartNum:v},data:function(){return{prods:[],isLoading:!1,uuid:"bba8c8a3-a5f2-4a81-91ef-9273532ebb26",apiPath:"https://course-ec-api.hexschool.io",cartTotal:0}},methods:{addToCart:function(t){var a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0;var i="".concat(this.apiPath,"/api/").concat(this.uuid,"/ec/shopping"),n={product:t,quantity:o};console.log(n),s.a.post(i,n).then((function(t){a.isLoading=!1,console.log(t),e()("#modal").modal("hide"),a.getCart()})).catch((function(t){a.isLoading=!1,console.log(t),console.log(t.response),console.log(t.response.data.errors[0]),alert(t.response.data.errors[0]),e()("#modal").modal("hide")}))},getCart:function(){var t=this;this.isLoading=!0;var a="".concat(this.apiPath,"/api/").concat(this.uuid,"/ec/shopping");s.a.get(a).then((function(a){t.isLoading=!1,console.log(a),t.carts=a.data.data,t.cartNum=a.data.data.length,t.cartTotal=0,t.updateCartTotal()})).catch((function(t){console.log(t)}))},updateCartTotal:function(){var t=this;this.carts.forEach((function(a){t.cartTotal+=a.product.price*a.quantity}))}},created:function(){var t=this;this.isLoading=!0,this.$http.get("".concat("https://course-ec-api.hexschool.io","/api/").concat("bba8c8a3-a5f2-4a81-91ef-9273532ebb26","/ec/products")).then((function(a){t.isLoading=!1,t.prods=a.data.data}))}},m=L,b=Object(p["a"])(m,i,n,!1,null,null,null);a["default"]=b.exports},fdbc:function(t,a){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-0267cf5a.abc13eb3.js.map